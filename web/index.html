<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>~tails üêà‚Äç‚¨õ Web REPL</title>
    <meta name="description" content="Interactive Web REPL for the Tails - a scripting language for everyone. Start coding today in 5 seconds, no install required!">

    <meta name="keywords" content="tails, scripting language, repl, webassembly, wasm, programming, interactive">
    <meta name="author" content="Tom McIntosh">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Tails Scripting Language - Web REPL">
    <meta property="og:description" content="Try the Tails scripting language directly in your browser! Interactive Web REPL">
    <meta property="og:url" content="https://tj-mc.github.io/tails/">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Tails Web REPL - Interactive Scripting Language">
    <meta property="twitter:description" content="Try the Tails scripting language directly in your browser! Interactive Web REPL">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material-darker.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="title">~tails üêà‚Äç‚¨õ Web REPL</h1>
                <p class="subtitle">Interpreted Programming Language</p>
            </div>
            <div class="header-actions">
                <a href="https://github.com/tj-mc/tails" target="_blank" class="btn btn-tertiary github-link">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    GitHub
                </a>
                <button id="examplesBtn" class="btn btn-primary">Examples</button>
            </div>
        </header>

        <div class="main-content">
            <!-- Examples panel backdrop (initially hidden) -->
            <div id="examplesBackdrop" class="examples-backdrop examples-hidden">
                <div id="examplesPanel" class="examples-panel">
                    <div class="examples-header">
                        <h3>Example Programs</h3>
                        <button id="closeExamples" class="btn-close">&times;</button>
                    </div>
                <div class="examples-list">
                    <div class="example-item" data-code='~name is ask "Your name?"\nsay "Hello, " ~name'>
                        <h4>Hello World</h4>
                        <p>Basic variable assignment and output</p>
                    </div>
                    <div class="example-item" data-code='~a is 10\n~b is 20\n~sum is ~a + ~b\nsay "The sum of " ~a " and " ~b " is " ~sum'>
                        <h4>Variables & Math</h4>
                        <p>Simple arithmetic operations</p>
                    </div>
                    <div class="example-item" data-code='~weather is "sunny"\n~temp is 25\n\nif ~weather == "sunny" (\n    if ~temp > 20 (\n        say "Perfect day for a picnic! üåû"\n    ) else (\n        say "Sunny but chilly - bring a jacket"\n    )\n) else (\n    say "Maybe stay inside today"\n)\n\n~score is 85\nif ~score >= 90 (\n    say "Grade: A - Excellent!"\n) else if ~score >= 80 (\n    say "Grade: B - Well done!"\n) else (\n    say "Grade: C - Keep trying!"\n)'>
                        <h4>Conditionals</h4>
                        <p>Nested if statements and else-if chains</p>
                    </div>
                    <div class="example-item" data-code='~user is {name: "Alice", age: 30, city: "Paris"}\nsay "User: " ~user.name " is " ~user.age " years old and lives in " ~user.city'>
                        <h4>Objects</h4>
                        <p>Working with object properties</p>
                    </div>
                    <div class="example-item" data-code='action convert-temperature ~temp ~from ~to (\n    if ~from == "C" (\n        if ~to == "F" (\n            ~result is (~temp * 9/5) + 32\n            say ~temp "¬∞C = " ~result "¬∞F"\n        ) else if ~to == "K" (\n            ~result is ~temp + 273.15\n            say ~temp "¬∞C = " ~result "K"\n        )\n    ) else if ~from == "F" (\n        if ~to == "C" (\n            ~result is (~temp - 32) * 5/9\n            say ~temp "¬∞F = " ~result "¬∞C"\n        )\n    )\n)\n\n*convert-temperature 25 "C" "F"\n*convert-temperature 77 "F" "C"\n*convert-temperature 0 "C" "K"'>
                        <h4>Functions</h4>
                        <p>Define and call custom actions with parameters</p>
                    </div>
                    <div class="example-item" data-code='function fibonacci ~n (\n    if ~n <= 1 (\n        give ~n\n    )\n    ~a is 0\n    ~b is 1\n    ~i is 2\n    loop (\n        if ~i > ~n break-loop\n        ~temp is ~b\n        ~b is ~a + ~b\n        ~a is ~temp\n        ~i is ~i + 1\n    )\n    give ~b\n)\n\nsay "Fibonacci sequence:"\n~i is 0\nloop (\n    if ~i > 10 break-loop\n    ~fib is *fibonacci ~i\n    say "F(" ~i ") = " ~fib\n    ~i is ~i + 1\n)'>
                        <h4>Fibonacci Sequence</h4>
                        <p>Functions with return values and loops</p>
                    </div>
                    <div class="example-item" data-code='function is-prime ~num (\n    if ~num < 2 (\n        give false\n    ) else if ~num == 2 (\n        give true\n    ) else if ~num % 2 == 0 (\n        give false\n    ) else (\n        ~is_prime is true\n        ~i is 3\n        loop (\n            if ~i * ~i > ~num break-loop\n            if ~num % ~i == 0 (\n                ~is_prime is false\n                break-loop\n            )\n            ~i is ~i + 2\n        )\n        give ~is_prime\n    )\n)\n\nsay "Prime numbers from 1 to 30:"\n~num is 2\nloop (\n    if ~num > 30 break-loop\n    ~prime_check is *is-prime ~num\n    if ~prime_check (\n        say ~num " is prime ‚úì"\n    )\n    ~num is ~num + 1\n)'>
                        <h4>Prime Number Checker</h4>
                        <p>Advanced functions with mathematical logic</p>
                    </div>
                    <div class="example-item" data-code='function factorial ~n (\n    if ~n <= 1 (\n        give 1\n    ) else (\n        ~n-minus-one is ~n - 1\n        ~recursive is *factorial ~n-minus-one\n        give ~n * ~recursive\n    )\n)\n\nsay "Calculating factorials:"\n~i is 0\nloop (\n    if ~i > 8 break-loop\n    ~result is *factorial ~i\n    say ~i "! = " ~result\n    ~i is ~i + 1\n)'>
                        <h4>Recursive Factorial</h4>
                        <p>Recursive functions and mathematical computations</p>
                    </div>
                    <div class="example-item" data-code='~tasks is ["Learn Tails", "Build a project", "Share with friends"]\n~completed is [false, false, false]\n\nsay "üìã Todo List Manager"\nsay "=================="\n\nif ~completed.0 say "1. ‚úÖ " ~tasks.0 else say "1. ‚≠ï " ~tasks.0\nif ~completed.1 say "2. ‚úÖ " ~tasks.1 else say "2. ‚≠ï " ~tasks.1  \nif ~completed.2 say "3. ‚úÖ " ~tasks.2 else say "3. ‚≠ï " ~tasks.2\n\nsay ""\nsay "Marking task 1 as complete..."\n~completed.0 is true\n\nsay ""\nsay "Updated list:"\nif ~completed.0 say "1. ‚úÖ " ~tasks.0 else say "1. ‚≠ï " ~tasks.0\nif ~completed.1 say "2. ‚úÖ " ~tasks.1 else say "2. ‚≠ï " ~tasks.1\nif ~completed.2 say "3. ‚úÖ " ~tasks.2 else say "3. ‚≠ï " ~tasks.2'>
                        <h4>Todo List Manager</h4>
                        <p>Lists and single-line conditionals</p>
                    </div>
                    <div class="example-item" data-code='function generate-pattern ~size ~char (\n    ~row is 0\n    loop (\n        if ~row >= ~size break-loop\n        ~line is ""\n        ~col is 0\n        loop (\n            if ~col >= ~size break-loop\n            if ~row == 0 or ~row == (~size - 1) or ~col == 0 or ~col == (~size - 1) (\n                ~line is ~line + ~char\n            ) else (\n                ~line is ~line + " "\n            )\n            ~col is ~col + 1\n        )\n        say ~line\n        ~row is ~row + 1\n    )\n)\n\nsay "üé® Pattern Generator"\nsay "==================="\nsay "Square border (5x5):"\n*generate-pattern 5 "*"\n\nsay ""\nsay "Smaller pattern:"\n*generate-pattern 3 "#"'>
                        <h4>Pattern Generator</h4>
                        <p>Nested loops and creative ASCII art</p>
                    </div>
                    <div class="example-item" data-code='~user is get "https://api.github.com/users/octocat"\nsay "Found user: " ~user.name " with " ~user.public_repos " repos"'>
                        <h4>Network Request</h4>
                        <p>Fetch data from APIs and display results</p>
                    </div>
                    <div class="example-item" data-code='say "üó∫Ô∏è Traveling Salesman Problem - Classic Algorithm"\nsay "================================================"\n\n~distance_matrix is [\n    [0, 10, 15, 20],\n    [10, 0, 35, 25],\n    [15, 35, 0, 30],\n    [20, 25, 30, 0]\n]\n\naction calculate-distance ~path ~distances (\n    ~total is 0\n    ~i is 0\n    ~path_len is length ~path\n    loop (\n        ~next_i is ~i + 1\n        if ~next_i >= ~path_len break-loop\n        ~from is ~path.~i\n        ~to is ~path.~next_i\n        ~from_row is ~distances.~from\n        ~dist is ~from_row.~to\n        ~total is ~total + ~dist\n        ~i is ~next_i\n    )\n    give ~total\n)\n\nsay "Testing all possible 4-city routes:"\n\n~all_paths is [\n    [0, 1, 2, 3],\n    [0, 1, 3, 2],\n    [0, 2, 1, 3],\n    [0, 2, 3, 1],\n    [0, 3, 1, 2],\n    [0, 3, 2, 1]\n]\n\n~best_distance is 999999\n~best_path is []\n~i is 0\n~paths_len is length ~all_paths\n\nloop (\n    if ~i >= ~paths_len break-loop\n    ~path is ~all_paths.~i\n    ~distance is *calculate-distance ~path ~distance_matrix\n\n    say "Path " ~path " = distance " ~distance\n\n    if ~distance < ~best_distance (\n        ~best_distance is ~distance\n        ~best_path is ~path\n        say "  ‚úÖ New best path!"\n    )\n    ~i is ~i + 1\n)\n\nsay ""\nsay "üèÜ OPTIMAL SOLUTION:"\nsay "Best path: " ~best_path\nsay "Total distance: " ~best_distance'>
                        <h4>üó∫Ô∏è Traveling Salesman Problem</h4>
                        <p>Classic NP-hard optimization problem with brute force solution</p>
                    </div>
                </div>
            </div>
            </div>

            <!-- REPL Interface -->
            <div class="repl-container">
                <!-- Code Input -->
                <div class="input-section">
                    <label for="codeInput" class="input-label">Code Input</label>
                    <div class="editor-container">
                        <textarea id="codeInput" placeholder="Enter your Tails code here...">~name is ask
say "Hello, " ~name</textarea>
                    </div>
                    <div class="input-actions">
                        <button id="runBtn" class="btn btn-primary">Run Code</button>
                        <button id="clearCodeBtn" class="btn btn-tertiary">Clear Code</button>
                    </div>
                    <span class="shortcut">Ctrl+Enter to run</span>
                </div>

                <!-- Output -->
                <div class="output-section">
                    <label class="output-label">Output</label>
                    <div id="output" class="output-display"></div>
                    <div class="output-actions">
                        <button id="clearBtn" class="btn btn-secondary">Clear Output</button>
                        <button id="resetBtn" class="btn btn-secondary">Reset REPL</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading indicator -->
        <div id="loadingIndicator" class="loading-indicator">
            <div class="spinner"></div>
            <p>Loading Tails WebAssembly module...</p>
        </div>

        <!-- Status bar -->
        <div class="status-bar">
            <span id="statusText">Ready</span>
            <span id="versionText">v...</span>
        </div>
    </div>

    <script type="module" src="repl.js"></script>
</body>
</html>