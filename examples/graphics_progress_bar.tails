# Animated Progress Bar
# Shows a realistic loading animation with percentage

say "ğŸ’¾ Starting download simulation..."
wait 1

~progress is 0
~total is 100

loop (
    if ~progress > ~total break-loop

    clear

    # Header
    say "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    say "â•‘       FILE DOWNLOAD          â•‘"
    say "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"

    # Progress bar
    ~filled is ~progress / 4  # Scale to fit width
    ~empty is 25 - ~filled

    ~bar is "["
    ~i is 0

    # Add filled portion
    loop (
        if ~i >= ~filled break-loop
        ~bar is ~bar + "â–ˆ"
        ~i up 1
    )

    # Add empty portion
    ~i is 0
    loop (
        if ~i >= ~empty break-loop
        ~bar is ~bar + "â–‘"
        ~i up 1
    )

    ~bar is ~bar + "]"

    say "â•‘ " ~bar " â•‘"
    say "â•‘                              â•‘"
    say "â•‘ Progress: " ~progress "%" "               â•‘"
    say "â•‘ Speed: 2.4 MB/s              â•‘"
    say "â•‘ Time remaining: " (100 - ~progress)             "           â•‘"
    say "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

    # Simulate variable download speed
    if ~progress < 20 (
        ~progress up 1
    ) else if ~progress < 80 (
        ~progress up 3
    ) else (
        ~progress up 1
    )

    wait 0.1
)

clear
say "âœ… Download complete!"
say "ğŸ‰ File saved successfully!"