# Simple Game Demo
# A basic "catch the cat" game simulation

say "🎮 Starting Cat Catch Game..."
say "Watch the cat move around!"
wait 1

~cat_x is 5
~cat_y is 2
~score is 0
~game_time is 0
~max_time is 20

loop (
    if ~game_time >= ~max_time break-loop

    clear

    # Game header
    say "╔═══════════════════════════════╗"
    say "║        CAT CATCH GAME         ║"
    say "╠═══════════════════════════════╣"

    # Game field
    ~y is 0
    loop (
        if ~y >= 5 break-loop

        ~line is "║ "
        ~x is 0
        loop (
            if ~x >= 25 break-loop

            if ~x == ~cat_x and ~y == ~cat_y (
                ~line is ~line + "🐈‍⬛"
            ) else (
                ~line is ~line + " "
            )
            ~x up 1
        )
        ~line is ~line + " ║"
        say ~line

        ~y up 1
    )

    # Game stats
    say "╠═══════════════════════════════╣"
    say "║ Score: " ~score "              Time: " (20 - ~game_time) "   ║"
    say "║ Cat Position: (" ~cat_x ", " ~cat_y ")           ║"
    say "╚═══════════════════════════════╝"

    # Move cat randomly
    ~direction is (~game_time % 4)
    if ~direction == 0 and ~cat_x < 24 (
        ~cat_x up 1
    ) else if ~direction == 1 and ~cat_x > 0 (
        ~cat_x down 1
    ) else if ~direction == 2 and ~cat_y < 4 (
        ~cat_y up 1
    ) else if ~direction == 3 and ~cat_y > 0 (
        ~cat_y down 1
    )

    # Update score based on cat position
    if ~cat_x > 10 and ~cat_x < 15 (
        ~score up 1
    )

    ~game_time up 1
    wait 0.3
)

clear
say "🏁 Game Over!"
say "🎯 Final Score: " ~score
if ~score > 10 (
    say "🏆 Excellent! You're a cat catching master!"
) else if ~score > 5 (
    say "👍 Good job! Keep practicing!"
) else (
    say "🐱 Better luck next time!"
)